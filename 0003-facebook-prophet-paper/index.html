<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:118.75%/1.58 'Lora',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.73);font-family:'Lora',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;color:hsla(0,0%,0%,0.9);font-family:'Varela Round',sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}ul{margin-left:1.58rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.58rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:0.85rem;line-height:1.58rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:1rem;line-height:1.58rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.9875rem;padding-right:0;padding-top:0;margin-bottom:1.58rem;font-size:1.1487rem;line-height:1.58rem;border-left:0.5925rem solid #134896;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.58rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.58rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.58rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.58rem;margin-bottom:calc(1.58rem / 2);margin-top:calc(1.58rem / 2);}li > ul{margin-left:1.58rem;margin-bottom:calc(1.58rem / 2);margin-top:calc(1.58rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.58rem / 2);}code{font-size:0.85rem;line-height:1.58rem;}kbd{font-size:0.85rem;line-height:1.58rem;}samp{font-size:0.85rem;line-height:1.58rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.05333rem;padding-right:1.05333rem;padding-top:0.79rem;padding-bottom:calc(0.79rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#134896;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #134896 1px, #134896 2px, rgba(0, 0, 0, 0) 2px);}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.37rem;margin-bottom:0.79rem;}li>ol,li>ul{margin-left:20px;margin-bottom:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.58rem;color:hsla(0,0%,0%,0.73);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:28px;}blockquote{border-left:0.29625rem solid #134896;color:hsla(0,0%,0%,0.59);padding-left:0.88875rem;font-style:italic;margin-left:-1.185rem;margin-right:0;}}</style><style data-href="/blog/styles.c2fc1d7581b4d134dedc.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}code[class*=language-],pre[class*=language-]{font-size:medium}.gatsby-highlight code[class*=language-],.gatsby-highlight pre[class*=language-]{font-size:.8em}.anchor{background-image:none}</style><meta name="generator" content="Gatsby 2.24.65"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Blog of Sebastian Häni" href="/blog/rss.xml"/><link rel="icon" href="/blog/favicon-32x32.png?v=b4ad523f144d7d9048b92d580ba7b53d" type="image/png"/><link rel="manifest" href="/blog/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/blog/icons/icon-48x48.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="72x72" href="/blog/icons/icon-72x72.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="96x96" href="/blog/icons/icon-96x96.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="144x144" href="/blog/icons/icon-144x144.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="192x192" href="/blog/icons/icon-192x192.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="256x256" href="/blog/icons/icon-256x256.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="384x384" href="/blog/icons/icon-384x384.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><link rel="apple-touch-icon" sizes="512x512" href="/blog/icons/icon-512x512.png?v=b4ad523f144d7d9048b92d580ba7b53d"/><title data-react-helmet="true">Facebook&#x27;s Prophet and the paper | Blog of Sebastian Häni</title><meta data-react-helmet="true" name="description" content="For the AI seminar, I am attending, I selected the following paper:  Sean J. Taylor &amp; Benjamin Letham (2018) “Forecasting at Scale”, The American Statistician…"/><meta data-react-helmet="true" property="og:title" content="Facebook&#x27;s Prophet and the paper"/><meta data-react-helmet="true" property="og:description" content="For the AI seminar, I am attending, I selected the following paper:  Sean J. Taylor &amp; Benjamin Letham (2018) “Forecasting at Scale”, The American Statistician…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="sebastianhaeni"/><meta data-react-helmet="true" name="twitter:title" content="Facebook&#x27;s Prophet and the paper"/><meta data-react-helmet="true" name="twitter:description" content="For the AI seminar, I am attending, I selected the following paper:  Sean J. Taylor &amp; Benjamin Letham (2018) “Forecasting at Scale”, The American Statistician…"/><meta data-react-helmet="true" name="google-site-verification" content="8zORk751Im3yhCfNGm4aWV2E_DcmAWj_OdYKbXYrNsw"/><link as="script" rel="preload" href="/blog/webpack-runtime-bc5119fc84ff82f6844a.js"/><link as="script" rel="preload" href="/blog/styles-55e82d6ff5158c00b714.js"/><link as="script" rel="preload" href="/blog/framework-de237a875aa45b276a9d.js"/><link as="script" rel="preload" href="/blog/app-4493d334cab59b23ad25.js"/><link as="script" rel="preload" href="/blog/commons-1f5cbce50d7966b54a27.js"/><link as="script" rel="preload" href="/blog/cd7d5f864fc9e15ed8adef086269b0aeff617554-aff7d161a569ac52b562.js"/><link as="script" rel="preload" href="/blog/component---src-templates-blog-post-js-52b1cc2fb94b67cf1dcf.js"/><link as="fetch" rel="preload" href="/blog/page-data/0003-facebook-prophet-paper/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/1146911855.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/sq/d/3333504701.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/blog/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:37.92rem;padding:2.37rem 1.185rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/blog/">Blog of Sebastian Häni</a></h3></header><main><article><header><h1 style="margin-top:1.58rem;margin-bottom:0">Facebook&#x27;s Prophet and the paper</h1><p style="font-size:0.87055rem;line-height:1.58rem;display:block;margin-bottom:1.58rem">March 20, 2020<!-- --> | <a href="/blog/tags/m-sc">MSc</a>, <a href="/blog/tags/ai-seminar">AI Seminar</a>, <a href="/blog/tags/ml">ML</a>, <a href="/blog/tags/prophet">Prophet</a> | <span class="disqus-comment-count" data-disqus-identifier="efe328f3-3dad-5196-ae1a-9d09faeb58c8" data-disqus-url="https://sebastianhaeni.github.com/blog/0003-facebook-prophet-paper/">...</span></p></header><section><p>For the AI seminar, I am attending, I selected the following paper:</p>
<p><span style="font-size: 1.2em"> <em><a href="https://amstat.tandfonline.com/doi/full/10.1080/00031305.2017.1380080">Sean J. Taylor &#x26; Benjamin Letham (2018) “Forecasting at Scale”, The American Statistician</a></em>.</span></p>
<h2 id="abstract" style="position:relative;"><a href="#abstract" aria-label="abstract permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abstract</h2>
<p>In the coming weeks, I want to evaluate the method described in the paper and see what can be accomplished with it in an
environment relevant to me. The relevant environment for me is time series, mostly business time series, but can be of
different sorts as well.</p>
<h2 id="content" style="position:relative;"><a href="#content" aria-label="content permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Content</h2>
<p>The paper “Forecasting at scale” describes the method that Facebook uses to do forecasting on time series data based
on an additive model where non-linear trends are fit with yearly, weekly and daily seasonality, plus holiday effects.
The procedure is robust to missing data and shifts in the trend, and typically handles outliers well.</p>
<h2 id="motivation" style="position:relative;"><a href="#motivation" aria-label="motivation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Motivation</h2>
<p>I’m explaining my motivation behind selecting the paper:</p>
<h3 id="why-have-i-chosen-this-paper" style="position:relative;"><a href="#why-have-i-chosen-this-paper" aria-label="why have i chosen this paper permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why have I chosen this paper?</h3>
<p>Last year I got a task when doing volunteering service for the country, to work on a time series data set. I built a
proof of concept system that could process the gigabytes of CSV files and aggregate the time series to different sample
durations. The time series were also transformed using different methods such as <a href="https://en.wikipedia.org/wiki/CUSUM">CUSUM</a>
and <a href="https://en.wikipedia.org/wiki/EWMA_chart">EWMA</a> to make them easier to interpret.
I visualized them with <a href="https://grafana.com/">Grafana</a> that I connected to a self-written Python backend using <a href="https://palletsprojects.com/p/flask/">Flask</a>.
The processing of the data was limited to my dev machine and I was restricted from using any other infrastructure. Because
it became clear that single-thread processing would not finish the processing within days, I had to parallelize it with
<a href="https://dask.org/">Dask</a>, which shortened the processing time dramatically.</p>
<p>After visualizing the immense amount of data it became clear that we will find some seasonality and trend in subsets
of the time series. Thus I had the idea to decompose the filtered subsets into seasonality and trend. This gave the
opportunity to then create a prediction interval that can be used to find anomalies in the data.</p>
<p>After a quick and dirty implementation, it became clear that producing nice graphs could turn out to be tricky. A
colleague stumbled upon the <a href="https://cran.r-project.org/web/packages/anomalize/index.html">anomalize</a> package in R.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/blog/static/7bad9e4efed277e9b67a873875c8eef7/fc2a6/anomalize.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 53.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACDUlEQVQoz3VSa08aURDl/3/vQwu4gYKhIKC2vFRqhfRD/UBcFmhjiWDKsqvysLz2dfd05i5QadKbTDJ3HueeO3NCwvfhuh48T6zN+48FOZd9x4FwXQgfEELAJ38xm2NlWQhZtg2fQHcMf8/LOPwg41OP/fgIdz6HRzGj30dbVWETsdBiucS/hxlYFGc2zGAbp9jzZAKt3cbn8yq0RgPtVguFUgWVi0t4VBviQptenFChYQzR6/Wg3tzg+ts1mpqGn7e30PUBTNOA2mzitFBCJpvH4YcjJMhymSze7oVRq9cDQGYxHA5Rp0Dl7Bz5k4/I5k+QTGUQS6ZkY7FUxlWthtzxKcIHcUSVONLpDJTYe8QTSeTzx+h0OvSjNcPO9x94tRfB6/0oWQT7EUUWR5SYbObcm3cHUOIJZHM5+fBV/SuqF1WcEeOG2sR4MoVNo5KAqqohHFVwRF/5VCiizA21OqqXX1AolpEjxqk0M63QtzX8GuiYPk/xYJrQaSE8b9+xwQsOsWxMXUeL5ta/v8dgMMDo6Qnj8Xg9VwN3NNdutwuDcktqFiJYljSSik8mRiNYzNCXOnQxm81gUYL9rfZEoD1eWgAkdqS0IyvypQ5t28FsvtgKe75YYrWyJJBD4L9JsCx8rBs2d85zLZsUPNXKGTIgN25eWxKYEMHrzNBhTRJDbuQ6vm+OZdkS7OX5A/UzKK+UCXdrAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="anomalize graph"
        title="anomalize graph"
        src="/blog/static/7bad9e4efed277e9b67a873875c8eef7/fc2a6/anomalize.png"
        srcset="/blog/static/7bad9e4efed277e9b67a873875c8eef7/12f09/anomalize.png 148w,
/blog/static/7bad9e4efed277e9b67a873875c8eef7/e4a3f/anomalize.png 295w,
/blog/static/7bad9e4efed277e9b67a873875c8eef7/fc2a6/anomalize.png 450w"
        sizes="(max-width: 450px) 100vw, 450px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>We tried it out but concluded that special holidays, weekends and so on still were a problem for anomalize which uses
STL (Seasonality and Trend decomposition using LOESS, <a href="https://www.scb.se/contentassets/ca21efb41fee47d293bbee5bf7be7fb3/stl-a-seasonal-trend-decomposition-procedure-based-on-loess.pdf">Paper</a>)
and methods from Twitter’s <a href="https://github.com/twitter/AnomalyDetection">AnomalyDetection</a> library.</p>
<p>So our research continues and we found the library <a href="https://facebook.github.io/prophet/">Prophet</a> which looked promising,
as it’s method promises that it can not only cope with holiday effects but also work at scale, has automatic changepoint
detection and allows for Analyst-in-the-Loop Modeling.</p>
<p>But unfortunately the time we had run out and I had no chance to look at this method in depth. This AI seminar now gives
me the chance to catch up.</p>
<h3 id="why-is-it-relevant-and-interesting" style="position:relative;"><a href="#why-is-it-relevant-and-interesting" aria-label="why is it relevant and interesting permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why is it relevant and interesting?</h3>
<p>Facebook has developed the Prophet library in house and is sharing it as open source with the community. At my day job,
we’re operating applications at scale and thus are confronted with the same problems that Facebook has tried to solve.</p>
<p>I think it can be interesting for larger companies trying to achieve application operating models that can do self-healing,
scale automatically using predictions, anticipate surges and find anomalies so an operator can have a closer look and
feed the result back into the model. Until 2025 we want to have AIOps established in the company. And we’re certainly
not the only company trying to do this.</p>
<h2 id="expectations--goals" style="position:relative;"><a href="#expectations--goals" aria-label="expectations  goals permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expectations &#x26; Goals</h2>
<p>My goal of working through this paper and the accompanying library is to deepen my knowledge of how time series analysis
can be approached beside the methods I already know like STL. Also, I would like to be able to tell our business owners
and fellow coworkers if this method could be a useful tool.</p></section><hr style="margin-bottom:1.58rem"/><footer><div style="display:flex;margin-bottom:3.95rem"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px;margin-right:0.79rem;margin-bottom:0;min-width:50px;border-radius:100%"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQCAwUG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAbZ74prepXHmswe2E//EABsQAQACAwEBAAAAAAAAAAAAAAIBAwAREgQh/9oACAEBAAEFApj5JZXOLXMR1ZrHc03azPmc2U//xAAXEQEAAwAAAAAAAAAAAAAAAAAQATFB/9oACAEDAQE/AYow/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EAB4QAAEDBAMAAAAAAAAAAAAAAAEAAhEQEiExMlGR/9oACAEBAAY/AlzkdUygM+0uJ1pBzTBhBztr/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITFBYVH/2gAIAQEAAT8hljh6FBr1FsYlk3r1kCU7oYVcnhwoNqcI5V8P/9oADAMBAAIAAwAAABDPF8H/xAAWEQEBAQAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8QIpYan//EABcRAAMBAAAAAAAAAAAAAAAAAAEQETH/2gAIAQIBAT8QMxFgv//EABwQAQACAwADAAAAAAAAAAAAAAEAESExQVFxsf/aAAgBAQABPxBXVZQaulauFstpyLTJqCoAqj3ZRAbmxJDPfkyRlI1jA9SOYS4XXPEyKpFFDTP/2Q==" alt="Sebastian Häni" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/blog/static/b4ad523f144d7d9048b92d580ba7b53d/99438/profile-pic.jpg 1x,
/blog/static/b4ad523f144d7d9048b92d580ba7b53d/aba1d/profile-pic.jpg 1.5x,
/blog/static/b4ad523f144d7d9048b92d580ba7b53d/b315d/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/blog/static/b4ad523f144d7d9048b92d580ba7b53d/99438/profile-pic.jpg 1x,
/blog/static/b4ad523f144d7d9048b92d580ba7b53d/aba1d/profile-pic.jpg 1.5x,
/blog/static/b4ad523f144d7d9048b92d580ba7b53d/b315d/profile-pic.jpg 2x" src="/blog/static/b4ad523f144d7d9048b92d580ba7b53d/99438/profile-pic.jpg" alt="Sebastian Häni" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Sebastian Häni</strong> <!-- -->who lives, studies and works in Zurich building useful things.<!-- --> <a href="https://sebastianhaeni.ch" rel="noopener noreferrer" target="_blank">You can find his social links on his personal website.</a></p></div></footer></article><nav><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/blog/0002-ai-seminar-intro/">← <!-- -->AI Seminar Intro</a></li><li><a rel="next" href="/blog/0004-dissecting-paper-style/">Dissecting a paper&#x27;s writing style<!-- --> →</a></li></ul></nav><div id="disqus_thread"></div></main><footer style="margin-top:4.74rem;text-align:center;font-size:0.79rem">© <!-- -->2020<!-- --> Sebastian Häni</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-39972934-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/0003-facebook-prophet-paper/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e31c70983b95bf93fc93.js"],"app":["/app-4493d334cab59b23ad25.js"],"component---src-pages-404-js":["/component---src-pages-404-js-00ca0359d36b3a5442f5.js"],"component---src-pages-index-js":["/component---src-pages-index-js-9491a4d76fee60b17be1.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-2f9acfde9bdca166b0a6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-52b1cc2fb94b67cf1dcf.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-37fbbe2333ff651fc180.js"]};/*]]>*/</script><script src="/blog/polyfill-e31c70983b95bf93fc93.js" nomodule=""></script><script src="/blog/component---src-templates-blog-post-js-52b1cc2fb94b67cf1dcf.js" async=""></script><script src="/blog/cd7d5f864fc9e15ed8adef086269b0aeff617554-aff7d161a569ac52b562.js" async=""></script><script src="/blog/commons-1f5cbce50d7966b54a27.js" async=""></script><script src="/blog/app-4493d334cab59b23ad25.js" async=""></script><script src="/blog/framework-de237a875aa45b276a9d.js" async=""></script><script src="/blog/styles-55e82d6ff5158c00b714.js" async=""></script><script src="/blog/webpack-runtime-bc5119fc84ff82f6844a.js" async=""></script></body></html>